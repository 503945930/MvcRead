@{
    ViewBag.Title = "Department";
}
<script src="~/Content/js/viewModel/department.js"></script>
<h2>>>部门管理111</h2>
<p>
    <a class="btn btn-primary" href="#" data-toggle="modal" data-target="#AddModal" data-bind="click: bindDeparts">
        <i class="glyphicon glyphicon-plus"></i>
        新增
    </a>
    <a class="btn btn-danger" href="#" data-bind="">
        <i class="glyphicon glyphicon-tower"></i>
        删除
    </a>
</p>
1233
<div class="box-content">
    <table class="table table-striped table-bordered bootstrap-datatable  responsive">
        <thead>
            <tr>
                <th>部门名称</th>
                <th>描述</th>
                <th>创建时间</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody data-bind="template: { name: 'reservationTemplate', foreach: JsonData }">
        </tbody>
    </table>
    <div id="example"></div>
    <input id="totalpage" type="hidden" />
    <script type="text/html" id="reservationTemplate">
        <tr>
            <td class="center hidden"><span data-bind="text: DepartmentID"></span></td>
            <td class="center"><span data-bind="text: DepartmentName"></span></td>
            <td class="center"><span data-bind="text: Description"></span></td>
            <td class="center"><span data-bind="text: CreateDate"></span></td>
            <td class="center">&nbsp;&nbsp;<a data-bind="click: function (data) { $root.clickEditt(data, DepartmentID) }" class="btn btn-warning" href="#" data-toggle="modal" data-target="#EditModal">
                <i class="glyphicon glyphicon-user"></i>
                编辑
            </a>
                &nbsp;&nbsp;<a class="btn btn-danger" href="#" data-bind="click: function (data) { $root.clickDelect(data, DepartmentID) }">
                    <i class="glyphicon glyphicon-user"></i>
                    删除
                </a>

            </td>
        </tr>

    </script>
    <!--编辑模态框（Modal） -->
    <div class="modal fade" id="EditModal" tabindex="-1" role="dialog"
        aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title"><i class="glyphicon glyphicon-wrench"></i>编辑部门
                    </h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form" action="" method="POST" data-bind="submit: submitdata1">
                        <div class="form-group hidden">
                            <label for="lastname" class="col-sm-2 control-label">部门ID</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="DepartmentID" data-bind="value: editData.DepartmentID"
                                    placeholder="请输入用户名">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="lastname" class="col-sm-2 control-label">部门名称</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="DepartmentName" data-bind="value: editData.DepartmentName" required=""
                                    placeholder="请输入部门名称">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="lastname" class="col-sm-2 control-label">描述</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="Description" data-bind="value: editData.Description"
                                    placeholder="请输入描述">
                            </div>
                        </div>

                        <div class="form-group ">
                            <div class="col-sm-4">
                            </div>
                            <div class="col-sm-8">
                                <button type="submit" class="btn btn-primary">
                                    保存
                                </button>
                                <button type="button" class="btn btn-default"
                                    data-dismiss="modal">
                                    关闭
                                </button>
                            </div>

                        </div>
                    </form>

                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-default"
                        data-dismiss="modal">
                        关闭
                    </button>

                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal -->
    </div>
    <!--增加模态框（Modal） -->
    <div class="modal fade" id="AddModal" tabindex="-1" role="dialog"
        aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title"><i class="glyphicon glyphicon-plus"></i>新增部门
                    </h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form" method="POST" data-bind="submit: submitdata">
                        <div class="form-group">
                            <label for="lastname" class="col-sm-2 control-label">部门名称</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="DepartmentName" data-bind="value: AddData.DepartmentName" required=""
                                    placeholder="请输入部门名称">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="lastname" class="col-sm-2 control-label">描述</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="Description" data-bind="value: AddData.Description"
                                    placeholder="请输入描述">
                            </div>
                        </div>

                        <div class="form-group ">
                            <div class="col-sm-4">
                            </div>
                            <div class="col-sm-8">
                                <button type="submit" class="btn btn-primary">
                                    保存
                                </button>
                                <button type="button" class="btn btn-default"
                                    data-dismiss="modal">
                                    关闭
                                </button>
                            </div>

                        </div>
                    </form>

                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-default"
                        data-dismiss="modal">
                        关闭
                    </button>

                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal -->
    </div>
</div>
